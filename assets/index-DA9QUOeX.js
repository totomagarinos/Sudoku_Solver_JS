(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function t(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(e){if(e.ep)return;e.ep=!0;const s=t(e);fetch(e.href,s)}})();function v(o){for(let r=0;r<9;r++)for(let t=0;t<9;t++)if(o[r][t]===0)return[r,t];return null}function g(o,r,t,l){for(let n=0;n<9;n++)if(o[r][n]===l)return!1;for(let n=0;n<9;n++)if(o[n][t]===l)return!1;const e=Math.floor(r/3)*3,s=Math.floor(t/3)*3;for(let n=0;n<3;n++)for(let a=0;a<3;a++)if(o[e+n][s+a]===l)return!1;return!0}function y(o){const r=v(o);if(!r)return!0;const[t,l]=r;for(let e=1;e<=9;e++)if(g(o,t,l,e)){if(o[t][l]=e,y(o))return!0;o[t][l]=0}return!1}function p(o){if(v(o))return!1;for(let t=0;t<9;t++){const l=new Set;for(let e=0;e<9;e++){const s=o[t][e];if(l.has(s))return!1;l.add(s)}}for(let t=0;t<9;t++){const l=new Set;for(let e=0;e<9;e++){const s=o[e][t];if(l.has(s))return!1;l.add(s)}}for(let t=0;t<3;t++)for(let l=0;l<3;l++){const e=new Set;for(let s=0;s<3;s++)for(let n=0;n<3;n++){const a=t*3+s,u=l*3+n,c=o[a][u];if(e.has(c))return!1;e.add(c)}}return!0}function h(){const o=document.getElementById("board");let r;try{r=JSON.parse(localStorage.getItem("sudokuBoard"))}catch{r=null}for(let t=0;t<9;t++)for(let l=0;l<9;l++){const e=document.createElement("input");e.type="text",e.className="cell",e.maxLength="1",e.pattern="[1-9]",e.dataset.row=t,e.dataset.col=l,r&&r[t][l]&&(e.value=r[t][l],e.classList.add("fixed")),e.addEventListener("input",s=>{s.target.value=s.target.value.replace(/[^1-9]/g,"");const n=s.target.value,a=parseInt(e.dataset.row),u=parseInt(e.dataset.col);if(n){const c=m();if(!E(c,a,u,n))e.classList.add("invalid");else{e.classList.remove("invalid");const f=s.target.nextElementSibling;f&&f.focus()}if(localStorage.setItem("sudokuBoard",JSON.stringify(c)),Array.from(document.querySelectorAll(".cell")).every(f=>f.value!=="")){const f=m();p(f)?i("Sudoku resuelto correctamente!","success"):i("Hay errores en el Sudoku","error")}}}),o.appendChild(e)}}function S(o){return o.flat().every(r=>r===0)}function E(o,r,t,l){const e=Number(l);for(let a=0;a<9;a++)if(a!==t&&o[r][a]===e)return!1;for(let a=0;a<9;a++)if(a!==r&&o[a][t]===e)return!1;const s=Math.floor(r/3)*3,n=Math.floor(t/3)*3;for(let a=0;a<3;a++)for(let u=0;u<3;u++){const c=s+a,d=n+u;if((c!==r||d!==t)&&o[c][d]===e)return!1}return!0}function m(){const o=Array.from({length:9},()=>Array(9).fill(0));return document.querySelectorAll(".cell").forEach(t=>{const l=parseInt(t.dataset.row),e=parseInt(t.dataset.col),s=t.value;o[l][e]=s===""?0:parseInt(s)}),o}function w(o){return document.querySelectorAll(".cell").forEach(t=>{const l=parseInt(t.dataset.row),e=parseInt(t.dataset.col);t.value=o[l][e]}),i("Sudoku resuelto!","success"),o}function I(o){const t={facil:[[5,3,0,0,7,0,0,0,0],[6,0,0,1,9,5,0,0,0],[0,9,8,0,0,0,0,6,0],[8,0,0,0,6,0,0,0,3],[4,0,0,8,0,3,0,0,1],[7,0,0,0,2,0,0,0,6],[0,6,0,0,0,0,2,8,0],[0,0,0,4,1,9,0,0,5],[0,0,0,0,8,0,0,7,9]],medio:[[0,0,0,6,0,0,4,0,0],[7,0,0,0,0,3,6,0,0],[0,0,0,0,9,1,0,8,0],[0,0,0,0,0,0,0,0,0],[0,5,0,1,8,0,0,0,3],[0,0,0,3,0,6,0,4,5],[0,4,0,2,0,0,0,6,0],[9,0,3,0,0,0,0,0,0],[0,2,0,0,0,0,1,0,0]],dificil:[[0,0,0,0,0,0,0,1,2],[0,0,0,0,3,5,0,0,0],[0,0,0,6,0,0,0,7,0],[7,0,0,0,0,0,3,0,0],[0,0,0,4,0,0,8,0,0],[1,0,0,0,0,0,0,0,0],[0,0,0,1,2,0,0,0,0],[0,8,0,0,0,0,0,4,0],[0,5,0,0,0,0,6,0,0]]}[o];document.querySelectorAll(".cell").forEach(e=>{const s=e.dataset.row,n=e.dataset.col,a=t[s][n];a!==0?(e.value=a,e.classList.add("fixed"),e.readOnly=!0):(e.value="",e.classList.remove("fixed"),e.readOnly=!1)}),i("Tablero cargado","info")}function B(){document.querySelectorAll(".cell").forEach(r=>{r.value="",r.classList.remove("fixed"),r.classList.remove("invalid")}),localStorage.removeItem("sudokuBoard"),i("Tablero limpiado","info")}function i(o,r){const t=document.getElementById("statusMessage");t.textContent=o,t.className=`status-message ${r} show`,setTimeout(()=>{t.classList.remove("show")},[3e3])}document.getElementById("solveButton").addEventListener("click",()=>{const o=m();S(o)?i("El tablero está vacío. Ingresá algunos números antes de resolver.","error"):y(o)?w(o):i("El tablero no tiene solución","error")});document.getElementById("loadExampleButton").addEventListener("change",o=>{I(o.target.value)});document.getElementById("resetButton").addEventListener("click",B);h();
